# 🎨 自定义壁纸功能使用指南

## ✨ 功能概述

自定义壁纸功能允许用户上传自己的图片，并将其融入到可爱的灯光效果中，创造独特的个性化壁纸。

## 🎯 核心特性

### 🖼️ 图片处理
- **智能合成**: 将用户图片与可爱角色的灯光效果完美融合
- **多种效果**: 支持环境光、彩色光、暖光、冷光四种灯光效果
- **强度调节**: 20%-100%可调节的光效强度
- **高质量输出**: 生成1920x1080高清壁纸

### 🛡️ 安全保障
- **自动审核**: 集成NSFW内容检测系统
- **文件验证**: 支持JPG、PNG、WEBP格式，最大10MB
- **内容过滤**: 智能识别不当内容并自动拒绝
- **风险评分**: 0-1分的内容安全评分系统

### 🎨 灯光效果详解

#### 🌙 环境光 (Ambient)
- 柔和自然的光效
- 适合风景、人像等各类图片
- 营造温馨舒适的氛围

#### 🌈 彩色光 (Colorful)
- 绚丽多彩的渐变光效
- 适合艺术作品、抽象图案
- 创造梦幻炫酷的视觉效果

#### 🔥 暖光 (Warm)
- 温暖的橙黄色调
- 适合温馨场景、日落风景
- 营造温暖舒适的感觉

#### ❄️ 冷光 (Cool)
- 清新的蓝白色调
- 适合科技感、冬季场景
- 营造清新淡雅的氛围

## 🚀 使用流程

### 1. 访问自定义壁纸页面
```
http://localhost:8000/custom.html
```

### 2. 上传图片
- 点击上传区域或拖拽图片文件
- 支持格式：JPG、PNG、WEBP
- 文件大小：最大10MB
- 实时预览上传的图片

### 3. 设置参数
- **壁纸标题**: 为您的作品命名
- **灯光效果**: 选择四种效果之一
- **光效强度**: 调节20%-100%的强度

### 4. 创建壁纸
- 点击"创建自定义壁纸"按钮
- 系统自动进行内容审核
- 通过审核后生成最终壁纸

### 5. 查看作品
- 在自定义壁纸画廊中查看
- 支持下载和分享
- 查看创建时间和参数

## 🔧 技术实现

### 后端API
```javascript
// 创建自定义壁纸
POST /api/custom-wallpaper
- 参数: image (文件), title, lightEffect, intensity

// 获取自定义壁纸列表  
GET /api/custom-wallpapers
- 参数: page, limit
```

### 数据库结构
```sql
-- 新增字段
is_custom INTEGER DEFAULT 0          -- 是否为自定义壁纸
light_effect TEXT DEFAULT 'ambient' -- 灯光效果类型
effect_intensity INTEGER DEFAULT 50 -- 效果强度
```

### 图片处理流程
1. 文件上传和验证
2. 内容安全检查
3. 图片合成处理
4. 生成最终壁纸
5. 保存到数据库

## 📊 使用统计

当前系统状态：
- ✅ 总上传数: 5张
- ✅ 通过审核: 4张  
- ❌ 被拒绝: 1张
- 📈 通过率: 80%

## 🎯 最佳实践

### 推荐图片类型
- **风景照片**: 使用环境光或暖光效果
- **人物肖像**: 使用环境光，强度50-70%
- **艺术作品**: 使用彩色光，强度70-90%
- **科技图片**: 使用冷光，强度60-80%

### 参数建议
- **强度20-40%**: 适合细节丰富的图片
- **强度50-70%**: 适合大部分场景
- **强度80-100%**: 适合简单背景的图片

## 🔮 未来规划

- [ ] 添加更多灯光效果
- [ ] 支持批量处理
- [ ] 增加滤镜选项
- [ ] 社区分享功能
- [ ] AI智能推荐参数

## 📞 技术支持

如遇到问题，请检查：
1. 图片格式是否支持
2. 文件大小是否超限
3. 网络连接是否正常
4. 浏览器是否支持现代特性

---

🎨 **开始创造您的专属灯光壁纸吧！**
